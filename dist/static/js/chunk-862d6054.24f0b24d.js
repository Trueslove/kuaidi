(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-862d6054"],{"7fda":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("Search",{attrs:{searchData:e.searchData,pageParams:e.pageParams,searchItem:e.searchItem},on:{getRefresh:e.getRefresh,getDataList:e.getDataList}}),a("el-button",{staticStyle:{"margin-bottom":"10px"},attrs:{type:"primary",size:"small"},on:{click:e.handleAdd}},[e._v("新建客户")]),a("Table",{attrs:{tableData:e.tableData,tableItem:e.tableItem,tableBtnItem:e.tableBtnItem,pageParams:e.pageParams},on:{getDataList:e.getDataList,handleEdit:e.handleEdit,handleDelete:e.handleDelete}}),a("el-dialog",{attrs:{title:e.dialogTitle,visible:e.isShowDialog,width:"35%"},on:{"update:visible":function(t){e.isShowDialog=t}}},[a("el-form",{ref:"diaForm",attrs:{model:e.diaForm,rules:e.rules}},[a("el-form-item",{attrs:{label:"客户名称",prop:"name"}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:e.diaForm.name,callback:function(t){e.$set(e.diaForm,"name",t)},expression:"diaForm.name"}})],1),a("el-form-item",{attrs:{label:"价格规则",prop:"pid"}},[a("el-select",{attrs:{placeholder:"请选择价格规则"},model:{value:e.diaForm.pid,callback:function(t){e.$set(e.diaForm,"pid",t)},expression:"diaForm.pid"}},e._l(e.priceOptions,(function(e,t){return a("el-option",{key:t,attrs:{label:e.name,value:e.pid}})})),1)],1),a("el-form-item",{attrs:{label:"特殊费用",prop:"fee"}},[a("el-input",{attrs:{type:"number",autocomplete:"off",placeholder:"请输入特殊费用"},model:{value:e.diaForm.fee,callback:function(t){e.$set(e.diaForm,"fee",t)},expression:"diaForm.fee"}})],1),a("el-form-item",{attrs:{label:"客户分类",prop:"cgid"}},[a("el-select",{attrs:{placeholder:"请选择客户分类"},model:{value:e.diaForm.cgid,callback:function(t){e.$set(e.diaForm,"cgid",t)},expression:"diaForm.cgid"}},e._l(e.cgOptions,(function(e,t){return a("el-option",{key:t,attrs:{label:e.name,value:e.cgid}})})),1)],1),a("el-form-item",{attrs:{label:"运费取整"}},[a("el-radio-group",{model:{value:e.diaForm.round,callback:function(t){e.$set(e.diaForm,"round",t)},expression:"diaForm.round"}},[a("el-radio",{attrs:{label:0}},[e._v("不取整")]),a("el-radio",{attrs:{label:1}},[e._v("按0.5元取整")]),a("el-radio",{attrs:{label:2}},[e._v("按1元取整")])],1)],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.isShowDialog=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.handleConfirm("diaForm")}}},[e._v("确 定")])],1)],1)],1)},r=[],o=(a("ac67"),a("32ea"),a("1bc7"),a("0578")),n=a("226f"),l=a("408b");function s(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,i)}return a}function c(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?s(Object(a),!0).forEach((function(t){Object(o["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):s(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var d={mixins:[n["a"]],data:function(){return{diaForm:{name:"",pid:"",fee:"",cgid:"",round:"0"},isShowDialog:!1,isShowHelp:!1,workerdetail:{},searchData:{name:"",pid:"",fee:"",cgid:""},rules:{name:[{required:!0,message:"请填写客户名称",trigger:"blur"}],pid:[{required:!0,message:"请填写价格规格",trigger:"change"}]},priceOptions:[],cgOptions:[]}},created:function(){this.tableItem=[{prop:"name",label:"客户名称"},{prop:"priceName",label:"价格表"},{prop:"fee",label:"特殊费用"},{prop:"groupName",label:"客户分类"},{prop:"roundName",label:"运费取整"},{label:"操作",type:"btn",width:"90",fixed:"right"}],this.tableBtnItem=[{name:"编辑",type:"text",fnName:"handleEdit"},{name:"删除",type:"text",fnName:"handleDelete"}],this.searchItem=[{label:"客户名称",prop:"name",placeholder:"请输入客户名称"},{type:"select",label:"价格规则",prop:"pid",placeholder:"请选择价格规则"},{label:"特殊费用",prop:"fee",placeholder:"请输入特殊费用"},{label:"客户分类",prop:"cgid",placeholder:"请输入客户分类"}],this.getDataList(),this.handleGetPriceData(),this.handleGetCgData(),this.tableData=[{}]},methods:{handleGetPriceData:function(){var e=this;Object(l["K"])({name:"",currentPage:1,pageSize:2e4}).then((function(t){e.priceOptions=t.data.records}))},handleGetCgData:function(){var e=this;Object(l["e"])({name:"",currentPage:1,pageSize:2e4}).then((function(t){e.cgOptions=t.data.records}))},handleClose:function(){this.isShowHelp=!1},handleHelp:function(){this.isShowHelp=!0},handleConfirm:function(e){var t=this;this.$refs[e].validate((function(e){if(!e)return console.log("error submit!!"),!1;t.diaForm.cid?Object(l["g"])(c({},t.diaForm)).then((function(e){t.$message({message:e.message,type:"success"}),t.isShowDialog=!1,t.diaForm=t.$options.data().diaForm,t.getDataList()})):Object(l["a"])(c({},t.diaForm)).then((function(e){t.$message({message:e.message,type:"success"}),t.isShowDialog=!1,t.diaForm=t.$options.data().diaForm,t.getDataList()}))}))},handleAdd:function(){this.isShowDialog=!0,this.dialogTitle="客户设置方法"},handleDelete:function(e){var t=this;this.$confirm("此操作将永久删除该文件, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){Object(l["b"])({cid:e.cid}).then((function(e){t.$message({message:e.message,type:"success"}),t.getDataList()}))})).catch((function(){t.$message({type:"info",message:"已取消删除"})}))},handleEdit:function(e){this.diaForm=e,this.isShowDialog=!0},getDataList:function(){var e=this;Object(l["c"])(c(c({},this.searchData),this.pageParams)).then((function(t){var a=t.data.records;a.forEach((function(e){0==e.round?e.roundName="不取整":1==e.round?e.roundName="按0.5元取整":2==e.round&&(e.roundName="按1元取整")})),e.tableData=t.data.records,e.pageParams.total=t.data.total}))}}},p=d,m=(a("d8b1"),a("cba8")),u=Object(m["a"])(p,i,r,!1,null,"ab9ef6ca",null);t["default"]=u.exports},"8aa4":function(e,t,a){},d8b1:function(e,t,a){"use strict";a("8aa4")}}]);